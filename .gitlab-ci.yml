stages:
  - lint
  - test


lint:
  image: node:latest
  stage: lint
  before_script:
    - cd bulb
    -  npm install eslint \
      eslint-config-airbnb \
      eslint-config-prettier \
      eslint-plugin-flowtype \ # Any ideas on what I might want to do next?
      eslint-plugin-import \
      eslint-plugin-jsx-a11y \
      eslint-plugin-prettier \
      eslint-plugin-react
    - npm i eslint
  script:
    - node_modules/eslint/bin/eslint.js .

unit-test:
  image: node:latest
  stage: test
  before_script:
    - cd bulb
    - npm install
  script:
    - npm run test:ci
  coverage: /All files[^|]*\|[^|]*\s+([\d\.]+)/
